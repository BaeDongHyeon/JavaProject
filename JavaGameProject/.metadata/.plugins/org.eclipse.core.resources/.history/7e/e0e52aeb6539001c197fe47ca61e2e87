package Utils;

import java.awt.Color;
import java.awt.event.FocusEvent;
import java.awt.event.FocusListener;

import javax.swing.JPasswordField;

public class MyTextField extends JPasswordField implements FocusListener {
	public MyTextField(int size, String name) {
		setColumns(size);
		setOpaque(false);
		addFocusListener(this);
		setEchoChar((char)0);
		setName(name);
		setText(" " + getName());
	}

	public void focusGained(FocusEvent e) {
		JPasswordField text = (JPasswordField) e.getSource();		// JPasswordField형태로 getSource 받기
		text.setBackground(new Color(79, 167, 255));				// 포커스를 얻으면 배경색 바꾸기
		text.setOpaque(true);										// 불투명도 true
		if (String.valueOf(text.getPassword()).equals(" " + text.getName())) {	// 기본 텍스트 값이 있으면
			text.setText("");													// 빈칸으로 만들기
			if (text.getName().equals("PW")) text.setEchoChar('●');				// 컴포넌트 이름이 PW이면 비밀번호 암호화 실행
		}
	}

	public void focusLost(FocusEvent e) {
		JPasswordField text = (JPasswordField) e.getSource();		// JPasswordField형태로 getSource 받기
		text.setBackground(new Color(0, 0, 0));						// 포커스 얻으면 배경색 없애기
		text.setOpaque(false);										// 불투명도 false
		if (String.valueOf(text.getPassword()).equals("")) {					// 텍스트 박스가 비어 있으면
			text.setText(" " + text.getName());									// 기본 텍스트 값으로 변경
			if (text.getName().equals("PW")) text.setEchoChar((char)0);			// 컴포넌트 이름이 PW이면 비밀번호 암호화 해제
		} 
	}
}
