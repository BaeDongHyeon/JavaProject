import java.awt.Image;
import java.awt.image.BufferedImage;
import java.awt.image.PixelGrabber;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;

public class Test2 {
	public static void main(String[] args) {
		Image srcImg = ImageIO.read(new File("볼.png"));
		
		int width = srcImg.getWidth(this);
		//이미지 사이즈 계산
		int imx = srcImg.getWidth(null);
		int imy = srcImg.getHeight(null);
		int height = width * imy / imx;

		               

		Image imgTarget = srcImg.getScaledInstance(width, height, Image.SCALE_SMOOTH); 

		int pixels[] = new int[width * height]; 

		PixelGrabber pg = new PixelGrabber(imgTarget, 0, 0, width, height, pixels, 0, width); 

		try {

		pg.grabPixels();

		} catch (InterruptedException e) {

		throw new IOException(e.getMessage());

		} 

		        

		BufferedImage thumImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB); 

		thumImg.setRGB(0, 0, width, height, pixels, 0, width); 



		//썸네일 이미지 파일을 작성한다.

		File thumtFile = new File(newName);

		ImageIO.write(thumImg, "jpg", thumFile);



		출처: https://roadrunner.tistory.com/439 [삶의 조각들]
	}
}
